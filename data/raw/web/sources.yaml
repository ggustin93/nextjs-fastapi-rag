# Web Scraper Source Configuration
# Add your crawl sources here

output_dir: "data/processed/scraped"

default_rate_limit:
  requests_per_second: 1.0
  delay_between_pages: 2.0
  max_concurrent: 2

retry:
  max_retries: 3
  backoff_factor: 2.0
  retry_statuses: [429, 500, 502, 503, 504]

headless: true

sources:
  # My Osiris Brussels
  myosiris:
    name: "My Osiris Brussels"
    base_url: "https://my.osiris.brussels"
    description: "Plateforme de coordination des chantiers en RÃ©gion bruxelloise"
    category: "government"
    language: "fr"

    start_urls:
      - "https://my.osiris.brussels/"

    url_patterns: []  # Accept all internal links

    exclude_patterns:
      - "/login"
      - "/auth"
      - "/api/"
      - "\\?.*token="

    max_depth: 3
    max_pages: 100
    follow_links: true

    rate_limit:
      requests_per_second: 0.5
      delay_between_pages: 2.0
      max_concurrent: 1

    output_subdir: "osiris/myosiris"

    extra_metadata:
      region: "Brussels-Capital"
      domain: "roadworks"

  # Belgian Legal Documents (eJustice)
  belgian_legal:
    name: "Belgian Legal - eJustice"
    base_url: "https://www.ejustice.just.fgov.be"
    description: "Belgian legal documents from eJustice portal"
    category: "legal"
    language: "fr"

    start_urls:
      - "https://www.ejustice.just.fgov.be/eli/ordonnance/2008/07/03/2008031362/justel"

    url_patterns:
      - "/eli/"
      - "/ordonnance/"
      - "/loi/"
      - "/arrete/"

    exclude_patterns:
      - "/login"
      - "/search"
      - "\\?.*page="

    selectors:
      content: "article, .content, main"
      title: "h1, .title"
      exclude:
        - "nav"
        - "header"
        - "footer"
        - ".sidebar"
        - ".navigation"

    max_depth: 1
    max_pages: 50
    follow_links: false

    rate_limit:
      requests_per_second: 0.5
      delay_between_pages: 3.0
      max_concurrent: 1

    output_subdir: "legal/belgian"

    extra_metadata:
      jurisdiction: "Belgium"
      document_type: "legal"
